{"ast":null,"code":"import _wrapRegExp from\"/Users/romansingh/Documents/project4/network-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/wrapRegExp\";import _slicedToArray from\"/Users/romansingh/Documents/project4/network-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{ActionBtn}from'./buttons';import{UserDisplay,UserPicture}from'../profiles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function ParentPost(props){var post=props.post;return post.parent?/*#__PURE__*/_jsx(Post,{isRetweet:true,retweeter:props.retweeter,hideActions:true,className:' ',post:post.parent}):null;}export function Post(props){var post=props.post,didRetweet=props.didRetweet,hideActions=props.hideActions,isRetweet=props.isRetweet,retweeter=props.retweeter;var _useState=useState(props.post?props.post:null),_useState2=_slicedToArray(_useState,2),actionPost=_useState2[0],setActionPost=_useState2[1];var className=props.className?props.className:'col-10 mx-auto col-md-6';className=isRetweet===true?\"\".concat(className,\" p-2 border rounded\"):className;var path=window.location.pathname;var match=path.match(/*#__PURE__*/_wrapRegExp(/([0-9]+)/,{postid:1}));var urlPostId=match?match.groups.postid:-1;//if match than its match.groups.postid, otherwise its\nvar isDetail=\"\".concat(post.id)===\"\".concat(urlPostId);var handleLink=function handleLink(event){event.preventDefault();window.location.href=\"/\".concat(post.id);};var handlePerformAction=function handlePerformAction(newActionPost,status){if(status===200){setActionPost(newActionPost);}else if(status===201){if(didRetweet){didRetweet(newActionPost);}}};return/*#__PURE__*/_jsxs(\"div\",{className:className,children:[isRetweet===true&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"small text-muted\",children:[\"Retweet via \",/*#__PURE__*/_jsx(UserDisplay,{user:retweeter})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsx(UserPicture,{user:post.user})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-11\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(UserDisplay,{includeFullName:true,user:post.user})}),/*#__PURE__*/_jsxs(\"p\",{children:[\" \",post.tweet]}),/*#__PURE__*/_jsx(ParentPost,{post:post,retweeter:post.user})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn btn-group px-0\",children:[actionPost&&hideActions!==true&&/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(ActionBtn,{post:actionPost,didPerformAction:handlePerformAction,action:{type:\"like\",display:\"Likes\"}}),/*#__PURE__*/_jsx(ActionBtn,{post:actionPost,didPerformAction:handlePerformAction,action:{type:\"unlike\",display:\"Unlike\"}}),/*#__PURE__*/_jsx(ActionBtn,{post:actionPost,didPerformAction:handlePerformAction,action:{type:\"retweet\",display:\"Retweet\"}})]}),isDetail===true?null:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-primary btn-sm\",onClick:handleLink,children:\"View\"})]})]})]})]});}","map":{"version":3,"sources":["/Users/romansingh/Documents/project4/network-web/src/posts/detail.js"],"names":["React","useState","ActionBtn","UserDisplay","UserPicture","ParentPost","props","post","parent","retweeter","Post","didRetweet","hideActions","isRetweet","actionPost","setActionPost","className","path","window","location","pathname","match","urlPostId","groups","postid","isDetail","id","handleLink","event","preventDefault","href","handlePerformAction","newActionPost","status","user","tweet","type","display"],"mappings":"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","sourcesContent":["import React, {useState}  from 'react'\n\nimport {ActionBtn} from './buttons'\n\n\nimport {\n  UserDisplay,\n  UserPicture\n} from '../profiles'\n\n\n\nexport function ParentPost(props){\n    const {post} = props\n    return post.parent ? <Post isRetweet retweeter={props.retweeter} hideActions className={' '} post={post.parent} /> : null\n  }\n\n  export function Post(props) {\n      const {post, didRetweet, hideActions, isRetweet, retweeter} = props\n      const [actionPost, setActionPost] = useState(props.post ? props.post : null)\n      let className = props.className ? props.className : 'col-10 mx-auto col-md-6'\n      className = isRetweet === true ? `${className} p-2 border rounded` : className\n      const path = window.location.pathname\n      const match = path.match(/(?<postid>\\d+)/ )\n      const urlPostId = match ? match.groups.postid : -1 //if match than its match.groups.postid, otherwise its\n      const isDetail = `${post.id}` === `${urlPostId}`\n      const handleLink = (event) => {\n        event.preventDefault()\n        window.location.href = `/${post.id}`\n      }\n\n      const handlePerformAction = (newActionPost, status) => {\n        if (status === 200){\n          setActionPost(newActionPost)\n        } else if (status === 201) {\n          if (didRetweet){\n            didRetweet(newActionPost)\n          }\n        }\n      }\n      return <div className={className}>\n        {isRetweet === true &&<div className='mb-2'>\n        <span className='small text-muted'>Retweet via <UserDisplay user={retweeter} /></span>\n        </div>}\n        <div className='d-flex'>\n          <div className=''>\n            <UserPicture user={post.user} />\n\n\n          </div>\n          <div className='col-11'>\n              <div>\n                <p>\n                <UserDisplay includeFullName user={post.user} />\n                \n                </p>\n                <p> {post.tweet}</p>\n                <ParentPost post={post} retweeter={post.user}/>\n              </div>   \n           <div className='btn btn-group px-0'>\n           {(actionPost && hideActions !== true) && <React.Fragment> \n              <ActionBtn post={actionPost} didPerformAction = {handlePerformAction} action={{type: \"like\", display:\"Likes\"}}/>\n              <ActionBtn post={actionPost} didPerformAction = {handlePerformAction} action={{type: \"unlike\", display:\"Unlike\"}}/>\n              <ActionBtn post={actionPost} didPerformAction = {handlePerformAction} action={{type: \"retweet\", display:\"Retweet\"}}/>\n             </React.Fragment>\n            }\n              {isDetail === true ? null : <button className = \"btn btn-outline-primary btn-sm\" onClick ={handleLink}>View</button>}\n            </div>\n            </div>\n         \n        </div>  \n        </div>    \n  }"]},"metadata":{},"sourceType":"module"}